<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Gerador</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:radial-gradient(circle at top,#1f6feb22,#0b0e14 60%);
  color:white;
}

/* ===== TOPBAR ===== */
.topbar{
  position:fixed;
  top:0;
  width:100%;
  height:60px;
  background:#0d1117cc;
  backdrop-filter:blur(8px);
  border-bottom:1px solid #30363d;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 20px;
  z-index:10;
}
.user{
  display:flex;
  align-items:center;
  gap:10px;
}
.user img{
  width:36px;
  height:36px;
  border-radius:50%;
  display:none;
  border:1px solid #30363d;
}
.user span{color:#58a6ff;font-size:14px}

.topbar button{
  padding:8px 16px;
  border-radius:8px;
  border:none;
  font-weight:600;
  cursor:pointer;
}
#loginBtn{background:#1f6feb;color:white}
#logoutBtn{background:#da3633;color:white;display:none}

/* ===== HERO LOGIN ===== */
.hero{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding-top:60px;
}
.login-card{
  background:#161b22;
  border:1px solid #30363d;
  border-radius:16px;
  padding:40px;
  width:360px;
  text-align:center;
  animation:fade 0.8s ease;
}
.login-card h1{
  margin:0 0 10px;
  color:#58a6ff;
}
.login-card p{
  color:#8b949e;
  font-size:14px;
}
.google-btn{
  margin-top:25px;
  width:100%;
  padding:14px;
  border-radius:10px;
  border:none;
  background:white;
  color:#111;
  font-weight:bold;
  cursor:pointer;
}
.google-btn:hover{background:#eee}

@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:none}
}

/* ===== PAINEL ===== */
.container{
  display:none;
  background:#161b22;
  border:1px solid #30363d;
  border-radius:16px;
  padding:30px;
  width:450px;
  margin:120px auto;
}
h2{text-align:center;color:#58a6ff}
label{font-size:12px;color:#8b949e;margin-top:10px;display:block}
input{
  width:100%;
  padding:12px;
  margin-top:5px;
  border-radius:8px;
  border:1px solid #30363d;
  background:#0d1117;
  color:white;
}
button.main{
  width:100%;
  padding:15px;
  margin-top:20px;
  border-radius:10px;
  border:none;
  background:#1f6feb;
  color:white;
  font-weight:bold;
}

#resultado{
  display:none;
  margin-top:20px;
  padding:15px;
  background:#0d1117;
  border:1px dashed #58a6ff;
  border-radius:10px;
}
#linkFinal{color:#58a6ff;font-size:13px;word-break:break-all}
</style>
</head>

<body>

<div class="topbar">
  <div class="user">
    <img id="userPhoto">
    <span id="welcome">Bem-vindo</span>
  </div>
  <button id="logoutBtn" onclick="logout()">Sair</button>
</div>

<!-- ===== LOGIN ===== -->
<div class="hero" id="loginArea">
  <div class="login-card">
    <h1>Vortex Links</h1>
    <p>Entre com Google para acessar o painel de geração</p>
    <button class="google-btn" onclick="loginGoogle()">Entrar com Google</button>
  </div>
</div>

<!-- ===== PAINEL ===== -->
<div class="container" id="painel">
<h2>Gerar Link Único</h2>

<label>Título</label>
<input id="tit">

<label>Arquivo</label>
<input id="nom">

<label>Tamanho</label>
<input id="tam">

<label>Link Download</label>
<input id="l_d">

<label>Link Botão</label>
<input id="l_c">

<label>Link Vídeo</label>
<input id="l_v">

<button class="main" onclick="gerarLinkCurto()">GERAR LINK</button>

<div id="resultado">
  <label>Link Final:</label>
  <div id="linkFinal"></div>
</div>
</div>

<script>
// ===== CONFIG FIREBASE (OBRIGATÓRIO) =====
firebase.initializeApp({
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_PROJETO.firebaseapp.com",
  projectId: "SEU_PROJETO",
  appId: "SEU_APP_ID"
});

const auth = firebase.auth();
const provider = new firebase.auth.GoogleAuthProvider();

// LOGIN REDIRECT (mais compatível)
function loginGoogle(){
  auth.signInWithRedirect(provider);
}

function logout(){
  auth.signOut();
}

auth.getRedirectResult().catch(()=>{});

auth.onAuthStateChanged(user=>{
  if(user){
    welcome.innerText = "Bem-vindo, " + user.displayName;
    userPhoto.src = user.photoURL;
    userPhoto.style.display="block";

    loginArea.style.display="none";
    painel.style.display="block";
    logoutBtn.style.display="inline-block";
  }else{
    welcome.innerText="Bem-vindo";
    loginArea.style.display="flex";
    painel.style.display="none";
    logoutBtn.style.display="none";
    userPhoto.style.display="none";
  }
});
</script>

</body>
</html>
